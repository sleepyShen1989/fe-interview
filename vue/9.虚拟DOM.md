# 虚拟DOM

一个Javascript对象，通过不同的属性去描述一个视图结构

## 优点

- 减少直接操作dom的次数
- 方便实现跨平台

## 生成过程

1. 编写模版template
2. 被编译器编译为渲染函数（ast->generate->code）
3. 挂载过程中调用render函数，返回的对象就是虚拟dom
4. 在patch过程中转化为dom

### 更新

1. 挂载过程结束后进入更新流程
2. 响应式数据发生变化，引起组件重新render
3. 生成新的虚拟dom
4. 和上一次返回的虚拟dom做diff得到变化的地方
5. 转换为最小量的dom操作，高效更新视图